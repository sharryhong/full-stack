<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
  </head>

  <body>
    <script>
      // Hash Map
      // 학급회장 후보 A ~ E가 있다. 투표결과 후 누가 학급회장이 되었는지 구하는 프로그램
      // 내꺼
      function solution(arr) {
        let answer = "";
        const vote = {};

        for (let item of arr) {
          if (vote.hasOwnProperty(item)) {
            vote[item]++;
          } else {
            vote[item] = 1;
          }
        }

        const sortVote = Object.entries(vote).sort(([, a], [, b]) => b - a);
        answer = sortVote[0][0];

        return answer;
      }

      // 내꺼 : Map 자료구조로 리팩토링. Good!
      function solution2(arr) {
        let answer = "";
        let vote = new Map();

        for (let item of arr) {
          if (vote.has(item)) {
            vote.set(item, vote.get(item) + 1);
          } else {
            vote.set(item, 1);
          }
        }

        let winnerCount = 0;
        for (let [key, value] of vote) {
          if (winnerCount < value) {
            winnerCount = value;
            answer = key;
          }
        }

        return answer;
      }

      // 쌤꺼 : Map 자료구조 사용
      function solution3(s) {
        let answer = "";
        let sH = new Map();

        for (let x of s) {
          if (sH.has(x)) {
            sH.set(x, sH.get(x) + 1);
          } else {
            sH.set(x, 1);
          }
        }

        let max = Number.MIN_SAFE_INTEGER;
        for (let [key, val] of sH) {
          if (val > max) {
            max = val;
            answer = key;
          }
        }

        return answer;
      }

      console.log(
        solution3([
          "B",
          "A",
          "C",
          "B",
          "A",
          "C",
          "C",
          "A",
          "C",
          "C",
          "B",
          "D",
          "E",
          "D",
          "E",
        ])
      );
    </script>
  </body>
</html>
